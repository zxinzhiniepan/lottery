!function(G,W,R){var N=navigator.userAgent.match(/MSIE ([0-9]{1,}[\.0-9]{0,})/),aa=!!N,J=aa&&parseFloat(N[1])<7,X=navigator.userAgent.match(/iPad|iPhone|Android|IEMobile|BlackBerry/i),M=aa?"mousedown":"click",P="onwheel" in W?"wheel":"onmousewheel" in R?"mousewheel":"MouseScrollEvent" in W&&"DOMMouseScroll MozMousePixelScroll",H={fired:!1,fire:function(){G(R).on(M,".dk_options a",function(){var b=G(this),a=b.parent(),c=b.parents(".dk_container").first();return a.hasClass("disabled")||a.closest(".dk_optgroup",c).hasClass("disabled")||(a.hasClass("dk_option_current")||(Z(b,c),q(b.parent(),c)),O(c)),!1}).on(P,".dk_options_inner",function(a){var b=a.originalEvent.wheelDelta||-a.originalEvent.deltaY||-a.originalEvent.detail;return aa?(this.scrollTop-=Math.round(b/10),!1):b>0&&this.scrollTop<=0||0>b&&this.scrollTop>=this.scrollHeight-this.offsetHeight?!1:!0}).on({"keydown.dk_nav":function(a){var b=E||ab;b&&K(a,b)},click:function(b){var a,c=G(b.target);if(E&&0===c.closest(".dk_container").length){O(E)}else{if(c.is(".dk_toggle, .dk_label")){return a=c.parents(".dk_container").first(),a.hasClass("dk_open")?O(a):(E&&O(E),!a.attr("disabled")&&B(a,b)),!1}c.attr("for")&&G("#dk_container_"+c.attr("for"))[0]&&G("#dk_container_"+c.attr("for")).trigger("focus.dropkick")}}}),this.fired=!0}},L={},Y=[],V={left:37,up:38,right:39,down:40,enter:13,tab:9,zero:48,z:90,last:221},S=['<div class="dk_container" id="dk_container_{{ id }}" tabindex="{{ tabindex }}" aria-hidden="true">','<a class="dk_toggle dk_label">{{ label }}</a>','<div class="dk_options">','<ul class="dk_options_inner" role="main" aria-hidden="true">',"</ul>","</div>","</div>"].join(""),F='<li class="{{ current }}{{ disabled }}"><a data-dk-dropdown-value="{{ value }}">{{ text }}</a></li>',Q='<li class="dk_optgroup{{ disabled }}"><span>{{ text }}</span>',U={startSpeed:400,theme:!1,changes:!1,syncReverse:!0,nativeMobile:!0,autoWidth:!0},E=null,ab=null,Z=function(f,h,c){var m=h.data("dropkick"),b=m.$select,g=f.length?f:m.$original,l=g.attr("data-dk-dropdown-value")||f.attr("value"),k=g.text();h.find(".dk_label").html(k?k:"&nbsp;"),c?b.val(l):b.val(l).trigger("change"),m.settings.change&&!c&&!m.settings.syncReverse&&m.settings.change.call(b,l,k)},O=function(a){a.removeClass("dk_open dk_open_top"),E=null},I=function(c){if(c.data("dropkick").settings.fixedMove){return"up"==c.data("dropkick").settings.fixedMove?!1:!0}var g=c.find(".dk_toggle"),b=c.find(".dk_options").outerHeight(),e=G(W).height()-g.outerHeight()-g.offset().top+G(W).scrollTop(),f=g.offset().top-G(W).scrollTop();return f>b?e>b:!0},D=function(f,h,c){var l=f.find(".dk_options_inner"),b=h.prevAll("li").outerHeight()*h.prevAll("li").length+(h.closest(".dk_optgroup",l).length&&h.closest(".dk_optgroup",l).prevAll("li").outerHeight()*h.closest(".dk_optgroup",l).prevAll("li").length),g=l.scrollTop(),k=l.height()+l.scrollTop()-h.outerHeight();(c&&"keydown"===c.type||g>b||b>k)&&l.scrollTop(b)},B=function(b,c){var a=I(b),d="dk_open"+(a?"":" dk_open_top");b.find(".dk_options").css({top:a?b.find(".dk_toggle").outerHeight()-1:"",bottom:a?"":b.find(".dk_toggle").outerHeight()-1}),E=b.addClass(d),D(b,b.find(".dk_option_current"),c)},q=function(b,c,a){c.find(".dk_option_current").removeClass("dk_option_current"),b.addClass("dk_option_current"),D(c,b,a)},K=function(ao,al){var ai,ar,ae,ap,ah,aj,ac,ag,aq,am=ao.keyCode,x=al.data("dropkick"),ak=String.fromCharCode(am),an=al.find(".dk_options"),t=al.hasClass("dk_open"),at=an.find("li:not(.disabled)"),ad=al.find(".dk_option_current"),m=ad.closest(".dk_optgroup",an),af=at.first().hasClass("dk_optgroup")?at.first().find("li:not(.disabled)").first():at.first(),f=at.last().hasClass("dk_optgroup")?at.last().find("li:not(.disabled)").last():at.last(),b=[];switch(am){case V.enter:t?ad.hasClass("disabled")||(Z(ad.find("a"),al),O(al)):B(al,ao),ao.preventDefault();break;case V.tab:t&&(ad.length&&Z(ad.find("a"),al),O(al));break;case V.up:t?(ap=ad.prevAll("li:not(.disabled)").first(),ap.hasClass("dk_optgroup")&&(ap=ap.find("li:not(.disabled)").last()),!ap.length&&m.length&&(ap=m.prevAll("li:not(.disabled)").first().hasClass("dk_optgroup")?m.prevAll("li:not(.disabled)").first().find("li:not(.disabled)").last():m.prevAll("li:not(.disabled)").first()),q(ap.length?ap:f,al,ao)):B(al,ao),ao.preventDefault();break;case V.down:t?(ae=ad.nextAll("li:not(.disabled)").first(),ae.hasClass("dk_optgroup")&&(ae=ae.find("li:not(.disabled)").first()),!ae.length&&m.length&&(ae=m.nextAll("li:not(.disabled)").first().hasClass("dk_optgroup")?m.nextAll("li:not(.disabled)").first().find("li:not(.disabled)").first():m.nextAll("li:not(.disabled)").first()),q(ae.length?ae:af,al,ao)):B(al,ao),ao.preventDefault()}if(am>=V.zero&&am<=V.z){for(ah=(new Date).getTime(),null===x.finder||void 0===x.finder?(x.finder=ak.toUpperCase(),x.timer=ah):ah>parseInt(x.timer,10)+1000?(x.finder=ak.toUpperCase(),x.timer=ah):(x.finder=x.finder+ak.toUpperCase(),x.timer=ah),aj=at.find("a"),ai=G.unique(x.finder.split("")),ac=0,ag=aj.length;ag>ac;ac++){if(aq=G(aj[ac]),1===ai.length&&aq.text()[0].toUpperCase()===ai[0]&&b.push(aj[ac]),0===aq.html().toUpperCase().indexOf(x.finder)&&!aq.closest(".dk_optgroup",an).hasClass("disabled")&&x.finder.length>1){Z(aq,al),q(aq.parent(),al,ao);break}}(x.finder.length>1&&b.length>1&&1===ai.length||1===x.finder.length)&&(ar=G.inArray(ad.find("a")[0],b),aq=G(b).filter(function(a,c){return c!==ad[0]&&a>ar}),aq=0===aq.length?G(b[0]):aq,Z(aq,al),q(aq.parent(),al,ao)),al.data("dropkick",x)}},z=function(a){return G.trim(a).length>0?a:!1},j=function(x,u){var m,C,b,y,k,t=function(f){var h=f.val(),c=f.html(),d=void 0!==f.attr("disabled");return F.replace("{{ value }}",h).replace("{{ current }}",z(h)!==u.value||d?"":"dk_option_current").replace("{{ disabled }}",d?"disabled":"").replace("{{ text }}",G.trim(c)?G.trim(c):"&nbsp;")},T=x.replace("{{ id }}",u.id).replace("{{ label }}",u.label).replace("{{ tabindex }}",u.tabindex),g=[];if(u.options&&u.options.length){for(C=0,b=u.options.length;b>C;C++){if(y=G(u.options[C]),y.is("option")){k=0===C&&void 0!==y.attr("selected")&&void 0!==y.attr("disabled")?null:t(y)}else{if(y.is("optgroup")){if(k=Q.replace("{{ text }}",y.attr("label")||"---").replace("{{ disabled }}",void 0!==y.attr("disabled")?" disabled":""),G(u.options[C]).children().length){k+="<ul>";for(var A=0,w=G(u.options[C]).children().length;w>A;A++){var v=G(u.options[C]).children().eq(A);k+=t(v)}k+="</ul>"}k+="</li>"}}g[g.length]=k}}return m=G(T),m.find(".dk_options_inner").html(g.join("")),m};L.init=function(a){return a=G.extend({},U,a),S=a.dropdownTemplate?a.dropdownTemplate:S,F=a.optionTemplate?a.optionTemplate:F,!H.fired&&H.fire(),this.each(function(){var m,e=G(this),v=e.find(":selected").first(),b=e.children(),d=e.data("dropkick")||{},g=e.attr("id")||e.attr("name"),x=e.parent(".dk_wrap"),c=a.width||x.length?x.width()-(e.innerWidth()-e.width()):e.outerWidth(),t=e.attr("tabindex")||"0",w=!!e.attr("disabled"),h=!1;return d.id?e:(d.settings=a,d.tabindex=t,d.id=g,d.$original=v,d.$select=e,d.value=z(e.val())||z(v.attr("value")),d.label=v.text()?v.text():"&nbsp;",d.options=b,d.theme=a.theme||"default",h=j(S,d),d.settings.autoWidth&&h.find(".dk_toggle").css({width:c+"px"}),w&&h.attr({disabled:"disabled",tabindex:-1}),e.before(h).appendTo(h.addClass("dk_theme_"+d.theme)),x.length?(x.removeClass("dk_wrap"),h.show()):h.fadeIn(a.startSpeed),d.$dk=h,e.data("dropkick",d),h.addClass(e.attr("class")),h.data("dropkick",d),Y[Y.length]=e,h.on({"focus.dropkick":function(){ab=!h.attr("disabled")&&h.addClass("dk_focus")},"blur.dropkick":function(){h.removeClass("dk_focus"),ab=null}}),X&&d.settings.nativeMobile&&h.addClass("dk_mobile"),d.settings.syncReverse&&e.on("change",function(n){var k=e.val(),f=G('a[data-dk-dropdown-value="'+k+'"]',h),l=f.text();h.find(".dk_label").html(l?l:"&nbsp;"),q(f.parent(),h,n),d.settings.change&&d.settings.change.call(e,k,l)}),m=e.attr("form")?G("#"+e.attr("form").replace(" ",", #")):e.closest("form"),void (m.length&&m.on("reset",function(){e.dropkick("reset")})))})},L.theme=function(d){var c=G(this).data("dropkick"),f=c.$dk,b="dk_theme_"+c.theme;c.theme=d||c.theme,f.removeClass(b).addClass("dk_theme_"+d)},L.reset=function(a){return this.each(function(){var c=G(this).data("dropkick"),d=c.$dk,b=G('a[data-dk-dropdown-value="'+c.$original.attr("value")+'"]',d);c.$original.prop("selected",!0),q(b.parent(),d),Z(b,d,!a)})},L.setValue=function(a){return this.each(function(){var b=G(this).data("dropkick").$dk,c=G('.dk_options a[data-dk-dropdown-value="'+a+'"]',b);c.length&&Z(c,b)|q(c.parent(),b)})},L.refresh=function(a){return this.each(function(){var c,g,b=G(this).data("dropkick"),e=b.$select,f=b.$dk;b.options=e.children(),g=j(S,b).find(".dk_options_inner"),f.find(".dk_options_inner").replaceWith(g),b.$original.parent().length||(b.$original=e.find(":selected").first(),b.label=b.$original.text()),c=G('a[data-dk-dropdown-value="'+e.val()+'"]',f),q(c.parent(),f),Z(c,f,!a)})},L.destroy=function(){return this.each(function(){var a=G(this).data("dropkick");a.$dk.before(function(){return a.$select.removeData("dropkick")}).remove()})},L.clone=function(d,c,f){var b=[];G.each(this,function(e){var h=G(this).data("dropkick"),g=h.settings,a=h.$select.clone();g.autoWidth&&(g.width=h.$dk.find(".dk_label").width()),c&&a.attr({id:c}),f&&a.attr({name:f}),a.removeData("dropkick"),d===!1?b[e]=a[0]:(a.dropkick(g),b[e]=a.data("dropkick").$dk[0])})},L.disable=function(a){return this.each(function(){var c=G(this).data("dropkick"),d=c.$select,b=c.$dk;a===!1?(d.removeAttr("disabled"),b.removeAttr("disabled").attr({tabindex:c.tabindex})):(b.hasClass("dk_open")&&O(b),d.attr({disabled:"disabled"}),b.attr({disabled:"disabled",tabindex:-1}))})},G.fn.dropkick=function(a){if(!J){if(L[a]){return L[a].apply(this,Array.prototype.slice.call(arguments,1))}if("object"==typeof a||!a){return L.init.apply(this,arguments)}}}}(jQuery,window,document);